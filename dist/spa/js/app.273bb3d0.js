(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t,n){e.exports=n("2f39")},"0047":function(e,t,n){},"2f39":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"loggedIn",(function(){return J})),n.d(r,"loginError",(function(){return D})),n.d(r,"getToken",(function(){return F})),n.d(r,"getUser",(function(){return V}));var o={};n.r(o),n.d(o,"login",(function(){return A})),n.d(o,"setUser",(function(){return _})),n.d(o,"setToken",(function(){return z})),n.d(o,"logout",(function(){return G})),n.d(o,"setLoginError",(function(){return H})),n.d(o,"clearLoginError",(function(){return K})),n.d(o,"setBaseURL",(function(){return M}));var a={};n.r(a),n.d(a,"loginRequest",(function(){return Y}));var s={};n.r(s),n.d(s,"getUsers",(function(){return te})),n.d(s,"countUsers",(function(){return ne})),n.d(s,"usersLoaded",(function(){return re})),n.d(s,"usersById",(function(){return oe}));var u={};n.r(u),n.d(u,"setUsers",(function(){return ae})),n.d(u,"setUsersLoaded",(function(){return se})),n.d(u,"clearUsers",(function(){return ue}));var i={};n.r(i),n.d(i,"getUsers",(function(){return de})),n.d(i,"updateUser",(function(){return le})),n.d(i,"addUser",(function(){return fe})),n.d(i,"checkUsername",(function(){return pe}));var c=n("967e"),d=n.n(c),l=(n("a481"),n("96cf"),n("fa84")),f=n.n(l),p=(n("573e"),n("7d6e"),n("e54f"),n("985d"),n("0047"),n("2b0e")),m=n("1f91"),h=n("42d2"),g=n("b05d"),b=n("2a19");p["a"].use(g["a"],{config:{},lang:m["a"],iconSet:h["a"],plugins:{Notify:b["a"]}});var v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return!1===e.loggedIn?n("q-layout",[n("q-page-container",[n("q-page",{staticClass:"flex flex-center row"},[n("div",{staticClass:"row justify-center q-ma-md",staticStyle:{width:"100%"}},[n("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-3 col-xl-2"},[n("q-form",{on:{submit:e.onSubmit}},[n("q-input",{ref:"input",attrs:{outlined:"",label:"Username","no-error-icon":"",rules:[function(e){return!!e||"Field is required"}]},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),n("q-input",{ref:"input",staticClass:"q-mt-lg",attrs:{outlined:"",label:"Password","no-error-icon":"",type:"password",rules:[function(e){return!!e||"Field is required"}]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("q-btn",{staticClass:"q-mt-lg",attrs:{type:"submit",color:"primary",label:"Login"}})],1)],1)])])],1)],1):n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},w=[],y=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("c47a")),S=n.n(y),k=n("2f62");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P={name:"App",data:function(){return{username:"",password:""}},computed:x({},Object(k["b"])({loggedIn:"access/loggedIn"})),methods:{onSubmit:function(){var e=this,t={username:this.username,password:this.password};this.$store.dispatch("access/loginRequest",t).then((function(t){!0===t.data.loggedIn?(localStorage.setItem("SignOnByNTS",JSON.stringify(t.data)),e.$store.commit("access/setUser",t.data.user),e.$store.commit("access/setToken",t.data.token),e.$store.commit("access/login"),e.$router.push("/")):e.$q.notify({message:"Login Failed!",color:"red",position:"top",timeout:5e3})}))}},created:function(){if(this.$store.commit("access/setBaseURL","http://baseapi.test/"),null!==localStorage.getItem("SignOnByNTS")){var e=JSON.parse(localStorage.getItem("SignOnByNTS"));this.$store.commit("access/setUser",e.user),this.$store.commit("access/setToken",e.token),this.$store.commit("access/login")}}},L=P,U=n("2877"),I=n("eebe"),q=n.n(I),B=n("4d5a"),j=n("09e3"),$=n("9989"),E=n("0378"),N=n("27f9"),T=n("9c40"),R=Object(U["a"])(L,v,w,!1,null,null,null),C=R.exports;q()(R,"components",{QLayout:B["a"],QPageContainer:j["a"],QPage:$["a"],QForm:E["a"],QInput:N["a"],QBtn:T["a"]});var Q=function(){return{loggedIn:!1,bLoginError:!1,user:{},token:""}};function J(e){return e.loggedIn}function D(e){return e.bLoginError}function F(e){return e.token}function V(e){return e.user}function A(e){e.loggedIn=!0}function _(e,t){e.user=t}function z(e,t){e.token=t}function G(e){localStorage.removeItem("SignOnByNTS"),e.loggedIn=!1}function H(e){e.bLoginError=!0}function K(e){e.bLoginError=!1}function M(e,t){e.baseURL=t}var W=n("bc3a"),X=n.n(W);function Y(e,t){var n=e.state,r=(e.commit,e.dispatch,e.rootState,X.a.create({baseURL:n.baseURL,timeout:5e3}));return r.post("api/login",t)}var Z={namespaced:!0,state:Q,getters:r,mutations:o,actions:a},ee=function(){return{users:[],usersLoaded:!1,usersById:[],baseURL:""}};function te(e){return e.users}function ne(e){return e.users.length}function re(e){return e.usersLoaded}function oe(e){return e.usersById}function ae(e,t){var n={};t.forEach((function(e,t){n[e.id]=e})),e.usersById=n,e.users=t}function se(e){e.usersLoaded=!0}function ue(e){e.users=[],e.usersLoaded=!1}var ie=X.a.create({baseURL:"http://baseapi.test/",timeout:5e3});ie.interceptors.request.use((function(e){var t=null;if(null!==localStorage.getItem("SignOnByNTS")){var n=JSON.parse(localStorage.getItem("SignOnByNTS"));t=n.token}return t&&(e.headers["Authorization"]="Bearer ".concat(t)),e}));var ce=ie;function de(e){e.state;var t=e.commit;e.rootState;return ce.get("users").then((function(e){t("setUsers",e.data.users),t("setUsersLoaded")}))}function le(e,t){e.state,e.commit,e.rootState;return ce.post("user/update",t)}function fe(e,t){e.state,e.commit,e.rootState;return console.log("payload is"),console.log(t),ce.post("user/add",t)}function pe(e,t){e.state,e.commit,e.rootState;return ce.post("user/check-username",t)}var me={namespaced:!0,state:ee,getters:s,mutations:u,actions:i};p["a"].use(k["a"]);var he=function(){var e=new k["a"].Store({modules:{access:Z,users:me},strict:!1});return e},ge=n("8c4f"),be=[{path:"/home/",component:function(){return Promise.all([n.e("vendor"),n.e("2d0a427a")]).then(n.bind(null,"04dd"))},children:[{path:"",component:function(){return n.e("2d0e8be2").then(n.bind(null,"8b24"))}}]},{path:"/users/adduser/",component:function(){return Promise.all([n.e("vendor"),n.e("2d0a427a")]).then(n.bind(null,"04dd"))},children:[{path:"",component:function(){return Promise.all([n.e("vendor"),n.e("2d0e9d54")]).then(n.bind(null,"8ee6"))}}]},{path:"/settings/",component:function(){return Promise.all([n.e("vendor"),n.e("2d0a427a")]).then(n.bind(null,"04dd"))},children:[{path:"",component:function(){return n.e("2d20f6dd").then(n.bind(null,"b41f"))}}]},{path:"/viewprofile/",component:function(){return Promise.all([n.e("vendor"),n.e("2d0a427a")]).then(n.bind(null,"04dd"))},children:[{path:"",component:function(){return Promise.all([n.e("vendor"),n.e("2d0a4609")]).then(n.bind(null,"05d2"))}}]},{path:"/editprofile/",component:function(){return Promise.all([n.e("vendor"),n.e("2d0a427a")]).then(n.bind(null,"04dd"))},children:[{path:"",component:function(){return Promise.all([n.e("vendor"),n.e("2d21e53d")]).then(n.bind(null,"d4a8"))}}]},{path:"/users/",component:function(){return Promise.all([n.e("vendor"),n.e("2d0a427a")]).then(n.bind(null,"04dd"))},children:[{path:"",component:function(){return Promise.all([n.e("vendor"),n.e("2d0a400c")]).then(n.bind(null,"051b"))}}]},{path:"/edituser/:id/",component:function(){return Promise.all([n.e("vendor"),n.e("2d0a427a")]).then(n.bind(null,"04dd"))},children:[{path:"",component:function(){return Promise.all([n.e("vendor"),n.e("2d0b61e6")]).then(n.bind(null,"1c97"))}}]}];be.push({path:"*",redirect:"/home/"});var ve=be;p["a"].use(ge["a"]);var we=function(){var e=new ge["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:ve,mode:"hash",base:""});return e},ye=function(){return Se.apply(this,arguments)};function Se(){return Se=f()(d.a.mark((function e(){var t,n,r;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof he){e.next=6;break}return e.next=3,he({Vue:p["a"]});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=he;case 7:if(t=e.t0,"function"!==typeof we){e.next=14;break}return e.next=11,we({Vue:p["a"],store:t});case 11:e.t1=e.sent,e.next=15;break;case 14:e.t1=we;case 15:return n=e.t1,t.$router=n,r={el:"#q-app",router:n,store:t,render:function(e){return e(C)}},e.abrupt("return",{app:r,store:t,router:n});case 19:case"end":return e.stop()}}),e)}))),Se.apply(this,arguments)}function ke(){return Oe.apply(this,arguments)}function Oe(){return Oe=f()(d.a.mark((function e(){var t,n,r,o,a,s,u,i,c;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ye();case 2:t=e.sent,n=t.app,r=t.store,o=t.router,a=!0,s=function(e){a=!1,window.location.href=e},u=window.location.href.replace(window.location.origin,""),i=[void 0],c=0;case 11:if(!(!0===a&&c<i.length)){e.next=29;break}if("function"===typeof i[c]){e.next=14;break}return e.abrupt("continue",26);case 14:return e.prev=14,e.next=17,i[c]({app:n,router:o,store:r,Vue:p["a"],ssrContext:null,redirect:s,urlPath:u});case 17:e.next=26;break;case 19:if(e.prev=19,e.t0=e["catch"](14),!e.t0||!e.t0.url){e.next=24;break}return window.location.href=e.t0.url,e.abrupt("return");case 24:return console.error("[Quasar] boot error:",e.t0),e.abrupt("return");case 26:c++,e.next=11;break;case 29:if(!1!==a){e.next=31;break}return e.abrupt("return");case 31:new p["a"](n);case 32:case"end":return e.stop()}}),e,null,[[14,19]])}))),Oe.apply(this,arguments)}p["a"].prototype.$axios=X.a,ke()}},[[0,"runtime","vendor"]]]);